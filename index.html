<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Smriti! ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Pacifico&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #ff4d6d;
            --secondary: #c9184a;
            --accent: #ffb3c1;
            --text: #590d22;
            --bg-gradient: radial-gradient(circle at center, #fff0f3 0%, #ffccd5 100%);
            --glass: rgba(255, 255, 255, 0.6);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text);
            position: relative;
        }

        .loading-screen {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #ff758c, #ff7eb3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            transition: opacity 0.8s ease;
            cursor: pointer;
        }

        .loading-title {
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            color: white;
            margin-bottom: 20px;
            animation: pulse 1s infinite alternate;
            text-align: center;
            padding: 0 15px;
        }

        .heart-loader {
            font-size: 4rem;
            animation: heartBeat 1.2s infinite;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            opacity: 0;
            position: relative;
            z-index: 5;
            transition: opacity 1s ease;
        }

        .big-heart-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 550px;
            z-index: -1;
            opacity: 0.8;
            animation: pulseSlow 3s infinite ease-in-out;
            pointer-events: auto;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .big-heart-container:hover {
            transform: translate(-50%, -50%) scale(1.05);
            opacity: 1;
        }

        .big-heart-bg {
            fill: url(#heartGradient);
            filter: drop-shadow(0 0 25px rgba(255, 105, 180, 0.6));
            transition: all 0.5s ease;
        }

        .big-heart-bg.soft-pink {
            filter: drop-shadow(0 0 40px rgba(255, 182, 217, 0.9)) drop-shadow(0 0 60px rgba(255, 105, 180, 0.5));
        }

        .big-heart-bg.clicked {
            animation: heartPop 0.6s ease-out;
        }

        .title {
            font-family: 'Pacifico', cursive;
            font-size: 3.5rem;
            text-align: center;
            color: #a4133c;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
            z-index: 10;
            position: relative;
        }

        .photo-wrapper {
            position: relative;
            margin: 20px 0 40px;
            width: 250px;
            height: 250px;
        }

        .photo-border {
            position: absolute;
            inset: -10px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ffccd5, #ff4d6d, #c9184a);
            animation: spinSlow 8s linear infinite;
            box-shadow: 0 10px 30px rgba(164, 19, 60, 0.3);
            z-index: 1;
        }

        .photo-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid white;
            position: relative;
            z-index: 2;
        }

        .card {
            background: var(--glass);
            backdrop-filter: blur(8px);
            padding: 30px;
            border-radius: 20px;
            max-width: 600px;
            text-align: center;
            border: 1px solid white;
            box-shadow: 0 15px 35px rgba(255, 77, 109, 0.15);
            margin-bottom: 30px;
        }

        .card h2 {
            color: #800f2f;
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-family: 'Pacifico', cursive;
        }

        .card p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #590d22;
        }

        .surprise-btn {
            background: linear-gradient(45deg, #d63384, #ff8787);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            font-family: 'Outfit', sans-serif;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(214, 51, 132, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
            z-index: 20;
            margin-top: 10px;
        }

        .surprise-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 25px rgba(214, 51, 132, 0.6);
        }

        .floating-obj {
            position: fixed;
            pointer-events: none;
            z-index: 100;
            font-size: 2rem;
        }

        .ribbon {
            position: fixed;
            width: 20px;
            height: 100px;
            pointer-events: none;
            z-index: 100;
            border-radius: 10px;
            opacity: 0.9;
        }

        .cracker {
            position: fixed;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 150;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(-120vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes ribbonFly {
            0% {
                transform: translateY(0) rotate(0deg) scaleY(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-120vh) rotate(720deg) scaleY(2);
                opacity: 0;
            }
        }

        @keyframes crackerBurst {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        @keyframes heartBeat {

            0%,
            50%,
            100% {
                transform: scale(1);
            }

            25%,
            75% {
                transform: scale(1.2);
            }
        }

        @keyframes pulseSlow {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.8;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.08);
                opacity: 1;
            }
        }

        @keyframes heartPop {
            0% {
                transform: scale(1);
            }

            30% {
                transform: scale(1.15);
            }

            60% {
                transform: scale(0.95);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes spinSlow {
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes pulse {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.1);
            }
        }



        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }

            .photo-wrapper {
                width: 200px;
                height: 200px;
            }
        }
    </style>
</head>

<body>

    <div class="loading-screen" id="loading">
        <h1 class="loading-title">A Special Surprise for Smriti... ‚ù§Ô∏è</h1>
        <div class="heart-loader">üéÅ</div>
        <p style="color: white; margin-top: 20px; font-weight: 500; font-size: 1.2rem;">üëÜ Click Open!</p>
    </div>

    <audio id="bgMusic" loop preload="auto">
        <source src="b.mp3" type="audio/mpeg">
    </audio>

    <!-- Bell sound for site open -->
    <audio id="bellSound" preload="auto">
        <source src="https://actions.google.com/sounds/v1/alarms/digital_watch_alarm_long.ogg" type="audio/ogg">
    </audio>

    <div class="container" id="mainContainer">

        <div class="big-heart-container" id="bigHeart" onclick="heartClicked()" title="Click me! üíó">
            <svg viewBox="0 0 32 29.6" style="width: 100%; height: 100%;">
                <defs>
                    <linearGradient id="heartGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ff69b4;stop-opacity:0.9" />
                        <stop offset="50%" style="stop-color:#ff85c1;stop-opacity:0.8" />
                        <stop offset="100%" style="stop-color:#ffa6d5;stop-opacity:0.7" />
                    </linearGradient>
                </defs>
                <path
                    d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2c6.1-9.3,16-11.8,16-21.2C32,3.8,28.2,0,23.6,0z"
                    class="big-heart-bg" />
            </svg>
        </div>

        <h1 class="title" id="birthdayTitle">Happy Birthday Smriti!</h1>

        <div class="photo-wrapper">
            <div class="photo-border"></div>
            <img src="a.png" alt="Smriti"
                onerror="this.src='https://ui-avatars.com/api/?name=Smriti&background=c9184a&color=fff&size=300'">
        </div>

        <div class="card">
            <h2>To The Dear Person ‚ù§Ô∏è</h2>
            <p>
                Dear Smriti Adhikari.
                You may never know me, yet I admire you from afar; your smile brings a smile to mine. You are kind and
                quietly strong, like a lotus that blooms wherever it stands. Keep smiling, and always do your best.

                I do not see myself beside you, nor do I hope to be known, but I wish you happiness always. In some
                gentle, parallel world, you walk with me. Study well, grow wiser, inspire many‚Äîstay pure like gold, not
                like diamond, true to yourself, and bright in the years ahead.
            </p>
        </div>

        <button class="surprise-btn" id="surpriseBtn">‚ú® Click Here for More Surprises! üåπ</button>

    </div>

    <script>
        const loading = document.getElementById('loading');
        const main = document.getElementById('mainContainer');
        const music = document.getElementById('bgMusic');
        const surpriseBtn = document.getElementById('surpriseBtn');
        const title = document.getElementById('birthdayTitle');
        const bellSound = document.getElementById('bellSound');
        const bigHeart = document.getElementById('bigHeart');
        const heartSvg = document.querySelector('.big-heart-bg');

        // Interactive heart click
        function heartClicked() {
            console.log('Heart clicked!');
            heartSvg.classList.add('clicked');

            // Create hearts bursting from center
            for (let i = 0; i < 12; i++) {
                setTimeout(() => createFloatingElement('üíó', '2.5rem'), i * 50);
            }

            // Remove animation class after it completes
            setTimeout(() => heartSvg.classList.remove('clicked'), 600);
        }

        // Create floating element with type
        function createFloatingElement(type, customSize) {
            const el = document.createElement('div');
            el.innerHTML = type;
            el.className = 'floating-obj';
            el.style.left = Math.random() * 100 + 'vw';
            el.style.bottom = '-50px';
            el.style.fontSize = customSize || '2rem';
            el.style.animation = `floatUp ${Math.random() * 3 + 4}s ease-in forwards`;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 8000);
        }



        // Crackers from title
        function releaseCrackers() {
            const rect = title.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            const colors = ['#ff6b6b', '#ffd700', '#4ecdc4', '#45b7d1', '#f9ca24', '#ff4757', '#fd79a8', '#a29bfe'];

            // Increased from 30 to 60 crackers
            for (let i = 0; i < 60; i++) {
                setTimeout(() => {
                    const cracker = document.createElement('div');
                    cracker.className = 'cracker';
                    cracker.style.background = colors[Math.floor(Math.random() * colors.length)];
                    cracker.style.left = centerX + 'px';
                    cracker.style.top = centerY + 'px';

                    const angle = (Math.PI * 2 * Math.random());
                    const distance = Math.random() * 400 + 150; // Increased distance
                    const tx = Math.cos(angle) * distance;
                    const ty = Math.sin(angle) * distance;

                    cracker.style.setProperty('--tx', tx + 'px');
                    cracker.style.setProperty('--ty', ty + 'px');
                    cracker.style.animation = `crackerBurst ${Math.random() * 0.5 + 0.8}s ease-out forwards`;

                    document.body.appendChild(cracker);
                    setTimeout(() => cracker.remove(), 1500);
                }, i * 15); // Faster release
            }
        }

        // Continuous background floaters with ratio
        setInterval(() => {
            const rand = Math.random() * 100;
            let emoji;
            if (rand < 40) {
                emoji = '‚ù§Ô∏è'; // 40% hearts
            } else if (rand < 60) {
                emoji = '‚≠ê'; // 20% stars
            } else {
                emoji = 'üå∏'; // 40% flowers
            }
            createFloatingElement(emoji, emoji === 'üå∏' ? '2.3rem' : '2rem');
        }, 600);

        // START: Click to begin
        loading.addEventListener('click', function () {
            console.log('Loading clicked - starting music');

            // Remove loading screen immediately for better UX
            loading.style.opacity = '0';

            // Play bell sound
            bellSound.volume = 0.5;
            bellSound.play().catch(e => console.log('Bell sound blocked:', e));

            // Try explicit play
            music.volume = 0.8;
            music.muted = false;

            // Simple retry loop
            const playAttempt = setInterval(() => {
                music.play()
                    .then(() => {
                        console.log('Audio Playing Successfully');
                        clearInterval(playAttempt);
                    })
                    .catch(error => {
                        console.log('Audio Play Failed', error);
                    });
            }, 500);

            // Stop retry after 3 seconds to avoid infinite loop
            setTimeout(() => clearInterval(playAttempt), 3000);

            loading.style.opacity = '0';
            setTimeout(() => {
                loading.style.display = 'none';
                main.style.opacity = '1';

                // Initial burst - reduced hearts
                for (let i = 0; i < 12; i++) {
                    setTimeout(() => createFloatingElement('‚ù§Ô∏è'), i * 100);
                }
            }, 800);
        });

        // SURPRISES: Release everything!
        surpriseBtn.addEventListener('click', function () {
            console.log('Surprise button clicked!');

            try {
                // Change heart to even softer pink with glow - Check if element exists first
                if (heartSvg) {
                    heartSvg.classList.add('soft-pink');
                } else {
                    console.log('Notice: heartSvg element not found');
                }

                const total = 100; // Total items
                const hearts = 40; // 40%
                const stars = 20;  // 20%
                const flowers = 40; // 40%

                // Create hearts (40)
                for (let i = 0; i < hearts; i++) {
                    setTimeout(() => createFloatingElement('‚ù§Ô∏è'), i * 40);
                }

                // Create stars (20)
                for (let i = 0; i < stars; i++) {
                    setTimeout(() => createFloatingElement('‚≠ê'), i * 80);
                }

                // Create flowers (40)
                for (let i = 0; i < flowers; i++) {
                    setTimeout(() => createFloatingElement('üå∏', '2.3rem'), i * 40);
                }

                // Crackers from title (5 waves now instead of 3)
                setTimeout(() => releaseCrackers(), 200);
                setTimeout(() => releaseCrackers(), 500);
                setTimeout(() => releaseCrackers(), 800);
                setTimeout(() => releaseCrackers(), 1100);
                setTimeout(() => releaseCrackers(), 1400);

                // Add roses
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => createFloatingElement('üåπ'), i * 100);
                }
            } catch (error) {
                console.error("Animation error:", error);
                alert("Oops! Animation error: " + error.message);
            }
        });
    </script>
</body>

</html>